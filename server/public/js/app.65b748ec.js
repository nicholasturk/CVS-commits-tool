(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],h=0,g=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&g.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(g.length)g.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},i={app:0},a=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0782":function(t,e,s){"use strict";s("d8dd")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-3",attrs:{id:"home"}},[s("h4",{staticClass:"border-bottom pb-3"},[t._v("CVS checkin search "),s("b-button",{staticClass:"float-right pb-1 pt-1",attrs:{variant:"danger"},on:{click:t.reset}},[t._v("Reset")])],1),s("b-row",{staticClass:"mb-3 mt-3"},[s("b-col",{staticClass:"pr-0",attrs:{sm:"3"}},[s("label",{staticClass:"labh"},[s("span",{class:{labli:t.suggestionsLoading}},[t._v("Ticket:")]),t.suggestionsLoading?s("b-spinner",{attrs:{small:""}}):t._e()],1),s("vue-autosuggest",{ref:"autosuggest",staticClass:"inline-block",attrs:{type:"search",name:"ih",suggestions:t.filteredOptions.tickets,"input-props":t.inputProps.tickets,"get-suggestion-value":t.getSuggestionValueTicket,limit:100},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:t.onInputChage},model:{value:t.ticketSearch,callback:function(e){t.ticketSearch=e},expression:"ticketSearch"}})],1),s("b-col",{staticClass:"pr-0",attrs:{sm:"3"}},[s("label",{staticClass:"labh"},[s("span",{class:{labli:t.suggestionsLoading}},[t._v("File:")]),t.suggestionsLoading?s("b-spinner",{attrs:{small:""}}):t._e()],1),s("vue-autosuggest",{ref:"autosuggest",attrs:{type:"search",suggestions:t.filteredOptions.files,"input-props":t.inputProps.files,"get-suggestion-value":t.getSuggestionValueFileName,limit:100},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:t.onInputChage},model:{value:t.fileSearch,callback:function(e){t.fileSearch=e},expression:"fileSearch"}})],1),s("b-col",{staticClass:"pr-0",attrs:{sm:"3"}},[s("label",{staticClass:"labh"},[s("span",{class:{labli:t.suggestionsLoading}},[t._v("Author:")]),t.suggestionsLoading?s("b-spinner",{attrs:{small:""}}):t._e()],1),s("vue-autosuggest",{ref:"autosuggest",attrs:{type:"search",suggestions:t.filteredOptions.authors,"input-props":t.inputProps.authors,"show-dropdowns":!0,"get-suggestion-value":t.getSuggestionValueAuthor,limit:100},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:t.onInputChage},model:{value:t.authorSearch,callback:function(e){t.authorSearch=e},expression:"authorSearch"}})],1),s("b-col",{staticClass:"pr-0",attrs:{sm:"3"}},[s("label",{staticClass:"labh"},[s("span",{class:{labli:t.suggestionsLoading}},[t._v("Select Range:")]),t.suggestionsLoading?s("b-spinner",{attrs:{small:""}}):t._e()],1),s("date-range-picker",{ref:"dp",model:{value:t.choices.dateRange,callback:function(e){t.$set(t.choices,"dateRange",e)},expression:"choices.dateRange"}})],1)],1),t.loading?s("b-spinner",{staticClass:"text-center"}):t._e(),!t.loading&&t.hasSearched?s("div",[s("b-row",[s("b-col",{attrs:{sm:"12"}},[s("div",{},[s("b",[t._v(t._s(t.commits.length))]),t._v(" results "),s("b-icon",{attrs:{icon:"chevron-left"},on:{click:t.prev}},[t._v("Prev")]),s("span",{staticClass:"paginationNumbers"},[t._v(t._s(0==t.totalPages?0:t.pagination.currentPage)+"/"+t._s(t.totalPages)+" ")]),s("b-icon",{attrs:{icon:"chevron-right"},on:{click:t.next}},[t._v("Next")])],1)]),s("b-col",{staticClass:"mt-1",attrs:{sm:"12"}})],1),t.commitsSorted.length>0?s("div",{staticClass:"results"},t._l(t.commitsSorted,(function(e,n){return s("b-row",{key:n,staticClass:"mb pb-1 pt-3"},[s("b-col",[s("div",{staticClass:"ml-2 mt-1 border-left pl-2"},t._l(Object.keys(e),(function(n,i){return s("div",{key:i},["_id"!=n?s("div",["file_path"==n?s("span",{attrs:{set:t.file=t.getFileSplit(e[n])}},[t._v(" "+t._s(n)+": "),s("span",[t._v(" "+t._s(t.file[0])),s("b",[t._v(t._s(t.file[1]))])])]):s("span","message"==n?[t._v(" "+t._s(n)+": "),s("span",[t._v(' "'+t._s(e[n])+'" ')])]:[t._v(" "+t._s(n)+": "),s("span",[t._v(" "+t._s(e[n])+" ")])])]):t._e()])})),0)])],1)})),1):t._e()],1):t._e()],1)},a=[],r=(s("4de4"),s("c975"),s("a15b"),s("fb6a"),s("a434"),s("ac1f"),s("841c"),s("1276"),s("5530")),o=(s("96cf"),s("1da1")),c=s("bc3a"),u=s.n(c),l=(s("53b4"),s("bbf5")),h=s.n(l),g="http://mislnxnp014:8616/",p={name:"search",components:{DateRangePicker:h.a},data:function(){return{ticketSearch:"",authorSearch:"",fileSearch:"",choices:{ticket:null,author:null,file_name:null,dateRange:{startDate:"",endDate:""}},suggestionsLoading:!1,currSearching:"tickets",commits:[],suggestions:{},loading:!1,filteredOptions:{tickets:[],authors:[],files:[]},numResults:null,inputProps:{tickets:{id:"autosuggest__input__tickets",class:"autosuggest__input",placeholder:"Choose ticket",onInputChange:this.onInputChange},authors:{id:"autosuggest__input__authors",class:"autosuggest__input",placeholder:"Choose author",onInputChange:this.onInputChange},files:{id:"autosuggest__files",class:"autosuggest__input",placeholder:"Choose file",onInputChange:this.onInputChange}},hasSearched:!1,pagination:{currentPage:1,postsPerPage:3}}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$route.params.token&&(t.choices.ticket=t.$route.params.token.toUpperCase(),t.search()),t.getSuggestions();case 2:case"end":return e.stop()}}),e)})))()},methods:{reset:function(){this.ticketSearch="",this.authorSearch="",this.fileSearch="",this.choices.ticket="",this.choices.author="",this.choices.file_name="",this.choices.dateRange.startDate="",this.choices.dateRange.endDate="",document.querySelector(".reportrange-text span").textContent="-",this.commits=[]},getSuggestions:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.suggestionsLoading=!0,e.next=3,u.a.post("".concat(g,"api/suggestions"),t.choices);case 3:t.suggestions=e.sent.data,t.filteredOptions=Object(r["a"])({},t.suggestions),t.suggestionsLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},search:function(){var t=this;this.hasSearched=!0,this.loading=!0,this.pagination.currentPage=1,u.a.post("".concat(g,"api/search"),this.choices).then((function(e){t.commits=e.data,t.loading=!1}))},getFileSplit:function(t){var e=t.split("/"),s=e.splice(0,e.length-1).join("/"),n=e[e.length-1];return 1==e.length&&(s+="/"),[s,n]},onInputChage:function(t){if(""==t||void 0==t)return this.filteredOptions=Object(r["a"])({},this.suggestions);var e=this.suggestions[this.currSearching][0].data.filter((function(e){return e.toLowerCase().indexOf(t.toLowerCase())>-1})).slice(0,100);this.filteredOptions[this.currSearching]=[{data:e}]},getSuggestionValueTicket:function(t){this.ticketSearch=t.item,this.choices.ticket=t.item,this.getSuggestions(),this.search()},getSuggestionValueAuthor:function(t){this.authorSearch=t.item,this.choices.author=t.item,this.getSuggestions(),this.search()},getSuggestionValueFileName:function(t){this.fileSearch=t.item,this.choices.file_name=t.item,this.getSuggestions(),this.search()},next:function(){this.pagination.currentPage<this.totalPages&&this.pagination.currentPage++},prev:function(){this.pagination.currentPage>1&&this.pagination.currentPage--}},computed:{totalPages:function(){return Math.ceil(this.commits.length/this.pagination.postsPerPage)},commitsSorted:function(){var t=this.commits;return t.slice((this.pagination.currentPage-1)*this.pagination.postsPerPage,this.pagination.currentPage*this.pagination.postsPerPage)}},watch:{ticketSearch:function(){this.currSearching="tickets",""==this.ticketSearch&&(this.choices.ticket=null,this.search(),this.getSuggestions())},authorSearch:function(){this.currSearching="authors",""==this.authorSearch&&(this.choices.author=null,this.search(),this.getSuggestions())},fileSearch:function(){this.currSearching="files",""==this.fileSearch&&(this.choices.file_name=null,this.search(),this.getSuggestions())},"choices.dateRange.startDate":function(){""!=this.choices.dateRange.startDate&&(document.querySelector(".reportrange-text span").textContent=this.$refs.dp.rangeText),this.getSuggestions(),this.search()},"choices.dateRange.endDate":function(){""!=this.choices.dateRange.endDate&&(document.querySelector(".reportrange-text span").textContent=this.$refs.dp.rangeText)}}},d=p,f=(s("0782"),s("2877")),m=Object(f["a"])(d,i,a,!1,null,null,null),b=m.exports,v=[{path:"/",redirect:"search"},{name:"search",path:"/search/:token?",component:b}],_=s("8c4f"),S=s("2831"),k=s("5f5b"),y=s("b1e0"),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container mt-4"},[s("div",{attrs:{id:"app"}},[s("router-view",{key:t.$route.path})],1)])},P=[],x=(s("f9e3"),s("2dd8"),{name:"App"}),O=x,w=Object(f["a"])(O,C,P,!1,null,null,null),R=w.exports;n["default"].use(k["a"]),n["default"].use(y["a"]),n["default"].use(S["a"]),n["default"].use(_["a"]),n["default"].config.productionTip=!1;var j=new _["a"]({routes:v,mode:"history"});new n["default"]({router:j,render:function(t){return t(R)}}).$mount("#app")},d8dd:function(t,e,s){}});
//# sourceMappingURL=app.65b748ec.js.map